# 队列工作器示例

这个示例展示了如何使用 NativePHP for ThinkPHP 的队列工作器功能来管理队列工作进程。

## 功能

- 启动队列工作进程
- 添加任务到队列
- 监控队列工作进程状态
- 停止和重启队列工作进程
- 清理队列工作进程

## 文件结构

- `app/controller/QueueWorkerController.php` - 队列工作器控制器
- `view/queue_worker/index.html` - 主页面

## 使用方法

1. 启动应用：

```bash
php think native:serve
```

2. 构建应用：

```bash
php think native:build
```

## 实现说明

本示例使用 NativePHP for ThinkPHP 的以下功能：

- **QueueWorker**：用于管理队列工作进程
- **Notification**：用于发送队列状态通知

本示例实现了以下功能：

1. **队列工作进程管理**：启动、停止、重启队列工作进程
2. **任务管理**：添加不同类型的任务到队列
3. **状态监控**：查看队列工作进程的状态和输出
4. **批量操作**：停止和重启所有队列工作进程
5. **清理操作**：清理已停止的队列工作进程

## 注意事项

- 队列工作进程可以设置为持久化，这样即使应用关闭，队列工作进程也会继续运行
- 对于生产环境，应该配置适当的队列连接和队列名称
- 在实际应用中，应该实现更完善的错误处理和恢复机制

## 扩展

你可以扩展这个示例，添加以下功能：

1. 队列监控仪表板，显示队列长度和处理速率
2. 任务优先级管理
3. 失败任务重试机制
4. 任务执行历史记录
5. 队列工作进程负载均衡
